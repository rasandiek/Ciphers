{% extends 'base.html' %}
{% block content %}

{% if profile %}

   <div class ="container text-center">
       <div class="row">
           <div class="col-8"> <h1>{{ profile.user.username }}'s Profile</h1>
               <br/>
               {% if ciphers %}
               {% for cipher in ciphers %}
               <div class ="alert alert-primary" role="alert">
                 {{ cipher.body }}<br/>
    <small class = "text-muted">
        {{ cipher.created_at}} By
        @{{ cipher.user.username}}
    </small></div>
               {% endfor %}
               {% endif %}
           </div>

           <div class="col-4">
               <br/><br/><br/>
               <div class="card">
  <h5 class="card-header" style="background-color: #00CED1; color: #ffffff;">Follows</h5>
  <div class="card-body" style="background-color: #212529;">
    <p class="card-text" >           {% for following in profile.follows.all %}
               <a href="{% url 'profile' following.user.id %}">@{{ following }}</a><br/>

           {% endfor %}</p>
  </div>
</div> <br/><br/>
           <div class="card">
  <h5 class="card-header" style="background-color: #00CED1; color: #ffffff;">Followed By</h5>
  <div class="card-body"style="background-color: #212529;">
    <p class="card-text">  {% for following in profile.Followed_by.all %}
               <a href="{% url 'profile' following.user.id %}">@{{ following }}</a><br/>

           {% endfor %}
    </p>
  </div>
</div>
<br/><br/>

<form method = POST>
{% csrf_token %}
{% if profile in user.profile.follows.all %}
    <button class = "btn btn-outline-danger" name="follow" value ="unfollow" type="submit">Unfollow @{{ profile.user.username|lower }}
    </button>

{% else %}
    <button class = "btn btn-outline-success" name="follow" value ="follow" type="submit">Follow @{{ profile.user.username|lower }}
    </button>

{% endif %}
</form>
<br/>
           </div>
       </div>
   </div>

{% endif %}
{% endblock %}